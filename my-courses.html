<!DOCTYPE html>
<html>
<head>
    <title>My Courses</title>
    <link rel="stylesheet" href="style.css">
    <script src="app.js?v=7"></script>
</head>
<body>

<div class="header">
    <button class="back-btn" onclick="history.back()">←</button>
    <span class="title">My Courses</span>
</div>

<h1>My Registered Courses</h1>

<div id="courses-container"></div>

<button class="btn-secondary" onclick="location.href='dashboard.html'">Return to Dashboard</button>

<script>
const courses = {
    "CSE1321": { title:"CSE 1321", days:"Mon/Wed", time:"10:00–11:15", professor:"Dr. Ally Morgan" },
    "MATH1190": { title:"MATH 1190", days:"Tue/Thu", time:"9:30–10:45", professor:"Dr. Thomas Johnston" },
    "ENGL1101": { title:"ENGL 1101", days:"MWF", time:"12:00–12:50", professor:"Prof. Hannah Evans" },
    "CSE2300": { title:"CSE 2300", days:"Tue/Thu", time:"2:00–3:15", professor:"Dr. James Walker" },
    "ECON2100": { title:"ECON 2100", days:"Wed", time:"4:00–6:45", professor:"Dr. Michael Porter" }
};

const container = document.getElementById("courses-container");
let found = false;

for (const id in courses) {
    if (localStorage.getItem("registered_" + id) === "true") {
        found = true;
        const c = courses[id];

        const card = document.createElement("div");
        card.className = "card";

        card.innerHTML = `
            <h3>${c.title}</h3>
            <p><strong>Days:</strong> ${c.days}</p>
            <p><strong>Time:</strong> ${c.time}</p>
            <p><strong>Professor:</strong> ${c.professor}</p>

            <button class="btn-primary" onclick="dropCourse('${id}', '${c.title}')">Drop Course</button>
        `;

        container.appendChild(card);
    }
}

if (!found) {
    container.innerHTML = `
        <div class="card"><p>You are not registered for any courses.</p></div>
    `;
}

function dropCourse(id, title) {
    localStorage.removeItem("registered_" + id);
    addNotification(`You dropped ${title}.`);
    showToast("Course dropped.", "success");
    setTimeout(() => location.reload(), 600);
}
</script>

</body>
</html>
